<div class="flex">
  <button x-data="{ darkMode: false }" @click="darkMode = !darkMode" role="switch" class="group cursor-pointer relative" :aria-pressed="darkMode" aria-label="Dark mode">
    <div class="flex items-center">
      <div class="p-2">
        <svg class="fill-brand group-aria-pressed:fill-brand/30" width="16" height="16" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8.5 5.5C10.125 5.5 11.5 6.875 11.5 8.5C11.5 10.1562 10.125 11.5 8.5 11.5C6.84375 11.5 5.5 10.1562 5.5 8.5C5.5 6.875 6.84375 5.5 8.5 5.5ZM16.1875 8.03125C16.5938 8.21875 16.5938 8.8125 16.1875 9L13.2188 10.4688L14.2812 13.625C14.4062 14.0312 14 14.4375 13.5938 14.3125L10.4375 13.25L8.96875 16.2188C8.78125 16.625 8.1875 16.625 8 16.2188L6.53125 13.25L3.375 14.3125C2.96875 14.4375 2.5625 14.0312 2.6875 13.625L3.75 10.4688L0.78125 9C0.375 8.8125 0.375 8.21875 0.78125 8.03125L3.75 6.5625L2.6875 3.40625C2.5625 3 2.96875 2.59375 3.375 2.71875L6.53125 3.78125L8 0.8125C8.1875 0.40625 8.78125 0.40625 8.96875 0.8125L10.4375 3.78125L13.5938 2.71875C14 2.59375 14.4062 3 14.2812 3.40625L13.2188 6.5625L16.1875 8.03125ZM11.3125 11.3438C12.875 9.78125 12.875 7.25 11.3125 5.6875C9.75 4.125 7.21875 4.125 5.65625 5.6875C4.09375 7.25 4.09375 9.78125 5.65625 11.3438C7.21875 12.9062 9.75 12.9062 11.3125 11.3438Z" fill="current" />
        </svg>
      </div>
      <div class="p-2">
        <svg class="fill-brand/30 group-aria-pressed:fill-brand" width="16" height="16" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.34375 16.5C4.90625 16.5 1.34375 12.9375 1.34375 8.5C1.34375 4.09375 4.90625 0.5 9.34375 0.5C9.84375 0.53125 10.3125 0.5625 10.7812 0.65625C11.125 0.71875 11.2188 1.15625 10.9062 1.34375C8.9375 2.46875 7.75 4.53125 7.75 6.78125C7.75 10.7188 11.3125 13.6875 15.1875 12.9375C15.5312 12.875 15.7812 13.2812 15.5625 13.5625C14.0625 15.4062 11.8125 16.5 9.34375 16.5Z" fill="current" />
        </svg>
      </div>
    </div>
    <div class="absolute bg-brand/[0.15] rounded-sm left-0 top-0 w-8 h-8 group-aria-pressed:translate-x-full transition"></div>
  </button>
</div>